(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-587aa705"],{"901c":function(e,t,s){},ed23:function(e,t,s){"use strict";var i=s("901c"),n=s.n(i);n.a},f751:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"coverSeen"},[e.ifSheen?s("div",{staticClass:"cover",class:{covernoSeen:e.infoSheen},style:e.sheen&&{height:"50px"},on:{click:e.setIndex}},[s("img",{class:{imgSeen:e.sheen},attrs:{src:e.toCover.coverImg,alt:""}}),s("div",{staticClass:"type",class:{typeSeen:e.sheen,homeSheen:!e.position}},["text"==e.toCover.type?s("van-icon",{attrs:{name:"edit",color:"#ffa500"}}):"video"==e.toCover.type?s("van-icon",{attrs:{name:"video",color:"#87ceeb"}}):"music"==e.toCover.type?s("van-icon",{attrs:{name:"music",color:"#ffc0cb"}}):e._e()],1),e.position?s("div",{directives:[{name:"show",rawName:"v-show",value:!e.sheen,expression:"!sheen"}],staticClass:"delete",on:{click:function(t){return t.stopPropagation(),e.upDeleta(t)}}},[s("van-icon",{attrs:{name:"delete"}})],1):e._e(),s("div",{staticClass:"title"},[s("h3",[e._v(e._s(e.toCover.coverTitle))]),s("h5",{directives:[{name:"show",rawName:"v-show",value:!e.sheen,expression:"!sheen"}]},[e._v(e._s(e.toCover.coverMessage))]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.sheen,expression:"!sheen"}],staticClass:"updwico"},[e.posit?s("div",[e.isShare?s("van-icon",{staticClass:"down",attrs:{name:"upgrade",color:"#0299fe"},on:{click:function(t){return t.stopPropagation(),e.upShare(t)}}}):s("van-icon",{attrs:{name:"upgrade",color:"#64e6d1"},on:{click:function(t){return t.stopPropagation(),e.upShare(t)}}})],1):s("div",{staticClass:"headImg"},[s("headImg",{attrs:{userImg:e.info.userImg},on:{openInfo:e.openInfo}})],1)])])]):e._e(),s("div",{staticClass:"inof",class:{seenInfo:e.infoSheen}},[s("div",{staticClass:"fallback"},[s("van-icon",{attrs:{name:"arrow-left"},on:{click:e.suspendInfo}})],1),s("div",{staticClass:"detailed"},[s("div",{staticClass:"head"},[s("img",{attrs:{src:e.info.userImg,alt:""}})]),s("div",{staticClass:"content"},[s("div",[s("div",{staticClass:"title"},[e._v("昵称")]),e._v(" "+e._s(e.info.nickname)+" ")]),s("div",[s("div",{staticClass:"title"},[e._v("邮箱")]),e._v(" "+e._s(e.info.email)+" ")]),s("div",[s("div",{staticClass:"title"},[e._v("UID")]),e._v(" "+e._s(e.info.userId)+" ")]),s("div",{staticClass:"btn"},[s("van-button",{attrs:{type:"primary"},on:{click:e.jumpCath}},[e._v("发送消息")])],1)])])])])},n=[],o=(s("d3b7"),function(){return s.e("chunk-4b1acfec").then(s.bind(null,"7520"))}),a={name:"coverSeen",props:["toCover","index","position"],data:function(){return{isShare:!0,ifSheen:!0,info:{}}},components:{headImg:o},computed:{infoSheen:function(){var e=!1;return this.$store.state.myIndexInf==this.index&&(e=!0),e},sheen:function(){var e=!1;return this.$store.state.myIndex==this.index&&(e=!0),e},posit:function(){return this.toCover.email==this.$store.state.useEmail||this.position}},methods:{jumpCath:function(){this.$store.commit("setChatSheen",!0),this.$store.commit("setTarget",{nickname:this.info.nickname,id:this.info.userId,userImg:this.info.userImg})},suspendInfo:function(){this.$store.commit("steMyIndexInf",null)},openInfo:function(){this.$store.commit("steMyIndexInf",this.index)},setIndex:function(){this.sheen?this.$store.commit("setMyIndex",null):this.$store.commit("setMyIndex",this.index)},upShare:function(){var e=this,t=!this.toCover.isShare;this.$toast.loading({message:"...",duration:0,forbidClick:!0}),this.axios.post("/deleteandshare",{id:this.toCover.id,operation:1,isShare:t}).then((function(t){if(1120==t.data.code)return e.$toast.success(t.data.msg),e.isShare=!e.isShare,void(e.position||(e.ifSheen=!1));e.$toast.fail(t.data.msg)})).catch((function(t){e.$toast.fail("网络错误")}))},upDeleta:function(){var e=this,t=!this.toCover.isDelete;this.toCover.isShare&&this.upShare(),this.$toast.loading({message:"请求发送中...",duration:0,forbidClick:!0}),this.axios.post("/deleteandshare",{id:this.toCover.id,operation:0,isDelete:t}).then((function(t){if(1120==t.data.code)return e.$toast.success(t.data.msg),void(e.ifSheen=!e.ifSheen);e.$toast.fail(t.data.msg)})).catch((function(t){e.$toast.fail("网络错误")}))},getInfData:function(){var e=this;if(!this.position){var t=sessionStorage.getItem(this.toCover.email);sessionStorage.getItem(this.toCover.email)?this.info=JSON.parse(t):this.axios.post("/getmyinf",{email:this.toCover.email}).then((function(t){e.info=t.data.require[0],sessionStorage.setItem(e.toCover.email,JSON.stringify(t.data.require[0]))}))}}},created:function(){this.isShare=this.toCover.isShare,this.getInfData()}},r=a,c=(s("ed23"),s("2877")),h=Object(c["a"])(r,i,n,!1,null,"76c6acbe",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-587aa705.1fb45b1d.js.map