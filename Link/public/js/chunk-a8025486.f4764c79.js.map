{"version":3,"sources":["webpack:///./src/components/audioPlay.vue?f31f","webpack:///./src/components/audioPlay.vue?c5bf","webpack:///src/components/audioPlay.vue","webpack:///./src/components/audioPlay.vue?4cb8","webpack:///./src/components/audioPlay.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","animation","musicPlay","attrs","toData","coverImg","style","background","conSeen","timerSeen","on","$event","seenControl","scopedSlots","_u","key","fn","mouDown","mouUp","touchend","proxy","model","value","callback","$$v","timer","expression","musicPlatyon","volmeSeen","volume","id","coverMusic","staticRenderFns","name","props","data","timerconl","methods","type","Putitaway","audio","pause","play","ontimeupdate","watch","currentTime","mounted","onplay","component"],"mappings":"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","file":"js/chunk-a8025486.f4764c79.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlay.vue?vue&type=style&index=0&id=5053d44e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlay.vue?vue&type=style&index=0&id=5053d44e&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audioPlay\"},[_c('div',{staticClass:\"turntable\"},[_c('div',{staticClass:\"picture\"},[_c('img',{class:{animation:!_vm.musicPlay},attrs:{\"src\":_vm.toData.coverImg}})]),_c('div',{staticClass:\"bg\",style:({background:(\"url(\" + (_vm.toData.coverImg) + \")\")})})]),_c('div',{staticClass:\"controller\"},[_c('div',{staticClass:\"timer\",class:{conSeen:_vm.timerSeen},on:{\"click\":function($event){return _vm.seenControl('timer')}}},[(!_vm.timerSeen)?_c('van-icon',{attrs:{\"name\":\"clock-o\"}}):_c('van-slider',{attrs:{\"active-color\":\"#1acf34\",\"min\":\"0\",\"max\":\"100\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('div',{staticClass:\"neibtn\",on:{\"touchstart\":_vm.mouDown,\"touchend\":_vm.mouUp,\"touchcancel\":function($event){_vm.touchend = true}}},[_c('van-icon',{attrs:{\"name\":\"clock-o\"}})],1)]},proxy:true}]),model:{value:(_vm.timer),callback:function ($$v) {_vm.timer=$$v},expression:\"timer\"}})],1),_c('div',{staticClass:\"conBtn\"},[_c('div',{on:{\"click\":_vm.musicPlatyon}},[(!_vm.musicPlay)?_c('van-icon',{attrs:{\"name\":\"play-circle-o\"}}):_c('van-icon',{attrs:{\"name\":\"pause-circle-o\"}})],1)]),_c('div',{staticClass:\"volume\",class:{conSeen:_vm.volmeSeen},on:{\"click\":function($event){return _vm.seenControl('volume')}}},[(!_vm.volmeSeen)?_c('van-icon',{attrs:{\"name\":\"volume-o\"}}):_c('van-slider',{attrs:{\"active-color\":\"#1acf34\",\"min\":\"0\",\"max\":\"100\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('div',{staticClass:\"neibtn\"},[_c('van-icon',{attrs:{\"name\":\"volume-o\"}})],1)]},proxy:true}]),model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}})],1)]),_c('audio',{attrs:{\"id\":'audio'+_vm.toData.id,\"src\":_vm.toData.coverMusic}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"audioPlay\">\r\n    <div class=\"turntable\">\r\n      <div class=\"picture\">\r\n        <img :class=\"{animation:!musicPlay}\" :src=\"toData.coverImg\" />\r\n      </div>\r\n      <div class=\"bg\" :style=\"{background:`url(${toData.coverImg})`}\"></div>\r\n    </div>\r\n    <!-- 控制器 -->\r\n    <div class=\"controller\">\r\n      <!-- 进度条 -->\r\n      <div class=\"timer\" :class=\"{conSeen:timerSeen}\" @click=\"seenControl('timer')\">\r\n        <van-icon name=\"clock-o\" v-if=\"!timerSeen\" />\r\n        <van-slider v-model=\"timer\" v-else active-color=\"#1acf34\" min=\"0\" max=\"100\">\r\n          <template #button>\r\n            <div\r\n              class=\"neibtn\"\r\n              @touchstart=\"mouDown\"\r\n              @touchend=\"mouUp\"\r\n              @touchcancel=\"touchend = true\"\r\n            >\r\n              <van-icon name=\"clock-o\" />\r\n            </div>\r\n          </template>\r\n        </van-slider>\r\n      </div>\r\n      <!-- 播放/暂停按钮 -->\r\n      <div class=\"conBtn\">\r\n        <div @click=\"musicPlatyon\">\r\n          <van-icon v-if=\"!musicPlay\" name=\"play-circle-o\" />\r\n          <van-icon v-else name=\"pause-circle-o\" />\r\n        </div>\r\n      </div>\r\n      <!-- 音量 -->\r\n      <div class=\"volume\" :class=\"{conSeen:volmeSeen}\" @click=\"seenControl('volume')\">\r\n        <van-icon name=\"volume-o\" v-if=\"!volmeSeen\" />\r\n        <van-slider v-model=\"volume\" v-else active-color=\"#1acf34\" min=\"0\" max=\"100\">\r\n          <template #button>\r\n            <div class=\"neibtn\">\r\n              <van-icon name=\"volume-o\" />\r\n            </div>\r\n          </template>\r\n        </van-slider>\r\n      </div>\r\n    </div>\r\n    <audio :id=\"'audio'+toData.id\" :src=\"toData.coverMusic\"></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"audioPlay\",\r\n  props: [\"toData\"],\r\n  data() {\r\n    return {\r\n      timer: 0,\r\n      volume: 100,\r\n      //音乐开关\r\n      musicPlay: false,\r\n      //控制进度条显示\r\n      timerSeen: false,\r\n      //音量控制条\r\n      volmeSeen: false,\r\n      timerconl: true\r\n    };\r\n  },\r\n  methods: {\r\n    //控件显示\r\n    seenControl(type) {\r\n      if (type == \"timer\") {\r\n        this.timerSeen = true;\r\n        this.volmeSeen = false;\r\n        return;\r\n      }\r\n      this.volmeSeen = true;\r\n      this.timerSeen = false;\r\n    },\r\n    //收起控件\r\n    Putitaway() {\r\n      this.timerSeen = false;\r\n      this.volmeSeen = false;\r\n    },\r\n    // 音乐控制\r\n    musicPlatyon() {\r\n      this.musicPlay = !this.musicPlay;\r\n      let audio = document.querySelector(\"audio\");\r\n      if (!this.musicPlay) {\r\n        this.Putitaway();\r\n        audio.pause();\r\n        return;\r\n      }\r\n      audio.play();\r\n      audio.ontimeupdate = () => {\r\n        if (this.timerconl) {\r\n          this.timer = Math.floor((audio.currentTime / audio.duration) * 100);\r\n        }\r\n      };\r\n    },\r\n    //控制条优化\r\n    mouDown() {\r\n      this.timerconl = false;\r\n    },\r\n    mouUp() {\r\n      this.timerconl = true;\r\n      let audio = document.querySelector(\"audio\");\r\n      audio.play();\r\n    }\r\n  },\r\n  watch: {\r\n    //进度条\r\n    timer() {\r\n      if (!this.timerconl) {\r\n        let audio = document.querySelector(\"#audio\" + this.toData.id);\r\n        audio.pause();\r\n        audio.currentTime = (this.timer / 100) * audio.duration;\r\n      }\r\n    },\r\n    //音量\r\n    volume() {\r\n      let audio = document.querySelector(\"#audio\" + this.toData.id);\r\n      audio.volume = this.volume / 100;\r\n    }\r\n  },\r\n  mounted() {\r\n    let audio = document.querySelector(\"#audio\" + this.toData.id);\r\n    audio.onplay = () => {\r\n      this.musicPlay = true;\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.turntable {\r\n  display: flex;\r\n  justify-content: center;\r\n  position: relative;\r\n  .bg {\r\n    background-position: center;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    filter: blur(10px) brightness(90%);\r\n  }\r\n  img {\r\n    width: 200%;\r\n    display: block;\r\n    z-index: 100;\r\n    animation: play 4s linear infinite;\r\n  }\r\n  .animation {\r\n    animation-play-state: paused;\r\n  }\r\n  .picture {\r\n    margin: 20px 0px;\r\n    width: 200px;\r\n    height: 200px;\r\n    overflow: hidden;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n\r\n@keyframes play {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.controller {\r\n  //   border: solid #eee 1px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 50px;\r\n  transition: height 0.3s;\r\n  overflow: hidden;\r\n  .timer {\r\n    width: 50px;\r\n  }\r\n  .volume {\r\n    width: 50px;\r\n  }\r\n  .conSeen {\r\n    width: 100%;\r\n    margin-right: 5%;\r\n    margin-left: 5%;\r\n  }\r\n  > div {\r\n    width: 50px;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 35px;\r\n    transition: all 0.3s;\r\n    > div {\r\n      height: 35px;\r\n    }\r\n  }\r\n  .neibtn {\r\n    height: 35px;\r\n    width: 35px;\r\n    background-color: #fff;\r\n    border-radius: 50%;\r\n    font-size: 30px;\r\n    display: flex;\r\n    transform: translateY(1px);\r\n    justify-content: center;\r\n    align-items: center;\r\n    // background-color: #1acf34;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audioPlay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./audioPlay.vue?vue&type=template&id=5053d44e&scoped=true&\"\nimport script from \"./audioPlay.vue?vue&type=script&lang=js&\"\nexport * from \"./audioPlay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./audioPlay.vue?vue&type=style&index=0&id=5053d44e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5053d44e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}